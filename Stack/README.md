هذا الكود يقوم بتنفيذ بنية بيانات **المكدس** (Stack)، وهي بنية بيانات تعتمد على مبدأ **LIFO** (Last In, First Out)، أي أن آخر عنصر تمت إضافته إلى المكدس هو أول عنصر يتم إزالته منه. يتم تنفيذ المكدس باستخدام مصفوفة ثابتة الحجم.

سنشرح الكود سطرًا بسطر ونفهم كل جزء منه بالتفصيل.

---

### 1. تضمين المكتبات
```c
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
```
- **`#include <stdio.h>`**: هذه المكتبة تحتوي على الدوال الخاصة بالإدخال والإخراج، مثل `printf` و `scanf`.
- **`#include <stdlib.h>`**: هذه المكتبة تحتوي على الدوال الخاصة بتخصيص الذاكرة، مثل `malloc`.
- **`#include <string.h>`**: هذه المكتبة تحتوي على الدوال الخاصة بالتعامل مع السلاسل النصية، مثل `strcmp`.

---

### 2. تعريف الثوابت والهياكل
```c
#define MAX 100

typedef struct Stack {
    int data[MAX];
    int top;
} Stack;
```
- **`#define MAX 100`**: يحدد الحد الأقصى لعدد العناصر التي يمكن تخزينها في المكدس.
- **`typedef struct Stack`**: يعرّف نوع بيانات جديد يسمى `Stack`، وهو هيكل يمثل المكدس.
- **`int data[MAX];`**: يمثل المصفوفة التي ستُستخدم لتخزين عناصر المكدس.
- **`int top;`**: يمثل مؤشر العنصر العلوي (الأخير) في المكدس.

---

### 3. دالة `createStack`
```c
void createStack(Stack *s) {
    s->top = -1;
}
```
- **الهدف**: تهيئة المكدس.
- **`s->top = -1;`**: يتم تعيين مؤشر العنصر العلوي إلى `-1` للإشارة إلى أن المكدس فارغ.

---

### 4. دالة `isFull`
```c
int isFull(Stack *s) {
    return s->top == MAX - 1;
}
```
- **الهدف**: التحقق مما إذا كان المكدس ممتلئًا.
- **`return s->top == MAX - 1;`**: إذا كان مؤشر العنصر العلوي يساوي `MAX - 1`، فإن المكدس ممتلئ.

---

### 5. دالة `isEmpty`
```c
int isEmpty(Stack *s) {
    return s->top == -1;
}
```
- **الهدف**: التحقق مما إذا كان المكدس فارغًا.
- **`return s->top == -1;`**: إذا كان مؤشر العنصر العلوي يساوي `-1`، فإن المكدس فارغ.

---

### 6. دالة `push`
```c
void push(Stack *s, int value) {
    if (isFull(s)) {
        printf("Stack overflow!\n");
        return;
    }
    s->data[++s->top] = value;
}
```
- **الهدف**: إضافة عنصر إلى المكدس.
- **`if (isFull(s))`**: إذا كان المكدس ممتلئًا، يتم طباعة رسالة خطأ.
- **`s->data[++s->top] = value;`**: يتم إضافة العنصر `value` إلى المكدس وزيادة مؤشر العنصر العلوي بمقدار 1.

---

### 7. دالة `pop`
```c
void pop(Stack *s) {
    if (isEmpty(s)) {
        printf("Stack underflow!\n");
    } else {
        printf("%d\n", s->data[s->top--]);
    }
}
```
- **الهدف**: إزالة عنصر من المكدس.
- **`if (isEmpty(s))`**: إذا كان المكدس فارغًا، يتم طباعة رسالة خطأ.
- **`printf("%d\n", s->data[s->top--]);`**: يتم طباعة العنصر العلوي في المكدس ثم إزالته بتقليل مؤشر العنصر العلوي بمقدار 1.

---

### 8. دالة `peek`
```c
void peek(Stack *s) {
    if (isEmpty(s)) {
        printf("Stack is empty!\n");
    } else {
        printf("%d\n", s->data[s->top]);
    }
}
```
- **الهدف**: عرض العنصر العلوي في المكدس دون إزالته.
- **`if (isEmpty(s))`**: إذا كان المكدس فارغًا، يتم طباعة رسالة خطأ.
- **`printf("%d\n", s->data[s->top]);`**: يتم طباعة العنصر العلوي في المكدس دون تغيير مؤشر العنصر العلوي.

---

### 9. دالة `main`
```c
int main() {
    Stack s;
    createStack(&s);

    int n;
    scanf("%d", &n);

    for (int i = 0; i < n; i++) {
        char operation[10];
        scanf("%s", operation);

        if (strcmp(operation, "push") == 0) {
            int value;
            scanf("%d", &value);
            push(&s, value);
        } else if (strcmp(operation, "pop") == 0) {
            pop(&s);
        } else if (strcmp(operation, "peek") == 0) {
            peek(&s);
        }
    }

    return 0;
}
```
- **الهدف**: بدء تنفيذ البرنامج ومعالجة الأوامر.
- **`Stack s;`**: يتم إنشاء مكدس.
- **`createStack(&s);`**: يتم تهيئة المكدس.
- **`scanf("%d", &n);`**: يتم قراءة عدد العمليات من المستخدم.
- **`for (int i = 0; i < n; i++)`**: يتم تكرار العمليات المدخلة من المستخدم.
- **`if (strcmp(operation, "push") == 0)`**: إذا كانت العملية هي `push`، يتم قراءة القيمة وإضافتها إلى المكدس.
- **`else if (strcmp(operation, "pop") == 0)`**: إذا كانت العملية هي `pop`، يتم إزالة العنصر العلوي من المكدس.
- **`else if (strcmp(operation, "peek") == 0)`**: إذا كانت العملية هي `peek`، يتم عرض العنصر العلوي في المكدس دون إزالته.

---

### ملخص الكود
هذا الكود يقوم بتنفيذ بنية بيانات **المكدس** باستخدام مصفوفة ثابتة الحجم. يوفر العمليات الأساسية مثل إضافة عنصر إلى المكدس (`push`)، إزالة عنصر من المكدس (`pop`)، وعرض العنصر العلوي في المكدس (`peek`). يتم التحكم في المكدس باستخدام مؤشر يشير إلى العنصر العلوي (`top`).
